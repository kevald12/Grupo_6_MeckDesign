<html lang="en">
<!-- head -->
<%- include('../partials/head')%>

<body>
    <!-- header -->
    <%- include('../partials/header')%>
    <!--main  -->
    <main class="main-container-create">

        <div class="form-group-create">


            <h1 class="title">Create a new product</h1>

            <form class="form-button" action="/products/list" method="post" enctype="multipart/form-data"
                id="productsForm">
                <% if (locals.errors && errors.name) { %>
                <div class="text-danger">
                    <%= errors.name.msg %>
                </div>
                <% } %>
                <span></span>
                <input class="form-fields<%= locals.errors && errors.name ? '-invalid' : null %>" type="text" id="name"
                    name="name" placeholder="Product Name" value="<%= locals.oldData ? oldData.name : null %>"
                    class="form-fields<%= locals.errors && errors.name ? '-invalid' : null %>">
                <br>
                <% if (locals.errors && errors.description) { %>
                <div class="text-danger">
                    <%= errors.description.msg %>
                </div>
                <% } %>
                <span></span>
                <input class="form-fields<%= locals.errors && errors.description ? '-invalid' : null %>" type="textarea"
                    id="description" name="description" placeholder="Product Description"
                    value="<%= locals.oldData ? oldData.description : null %>">
                <br>
                <label for="image">Upload Image</label>
                <% if (locals.errors && errors.image) { %>
                <div class="text-danger">
                    <%= errors.image.msg %>
                </div>
                <% } %>
                <span></span>
                <input class="form-fields<%= locals.errors && errors.image ? '-invalid' : null %>" type="file"
                    id="image" name="image" placeholder="Upload Image">
                <br>
                <label for="By Room">Select By Room</label>
                <% if (locals.errors && errors.byRoom) { %>
                <div class="text-danger">
                    <%= errors.byRoom.msg %>
                </div>
                <% } %>
                <span></span>
                <select class="form-fields<%= locals.errors && errors.byRoom ? '-invalid' : null %>" id="byRoom"
                    name="byRoom">
                    <% byroom.forEach(oneRoom => {%>
                    <option value=" <%= oneRoom.id %>"><%= oneRoom.room %></option>
                    <% }) %>
                </select>
                <br>
                <label for="By Texture">Select By Texture</label>
                <% if (locals.errors && errors.byTexture) { %>
                <div class="text-danger">
                    <%= errors.byTexture.msg %>
                </div>
                <% } %>
                <span></span>
                <select class="form-fields<%= locals.errors && errors.byTexture ? '-invalid' : null %>" id="byTexture"
                    name="byTexture">
                    <% bytexture.forEach(onetexture => {%>
                    <option value=" <%= onetexture.id %>"><%= onetexture.texture %></option>
                    <% }) %>


                </select>
                <br>
                <label for="Color">Select Color</label>
                <% if (locals.errors && errors.color) { %>
                <div id="locals-errors" class="text-danger">
                    <%= errors.color.msg %>
                </div>
                <% } %>
                <span id="colorErrorSpan"></span>
                <select class="form-fields<%= locals.errors && errors.color ? '-invalid' : null %>" id="color"
                    name="color" multiple>
                        <% color.forEach(oneColor => {%>
                        <option value="<%= oneColor.id %>"><%= oneColor.color %></option>
                        <% }) %>
                </select>

                <br>
                <label for="price">Product Price</label>
                <% if (locals.errors && errors.price) { %>
                <div class="text-danger">
                    <%= errors.price.msg %>
                </div>
                <% } %>
                <span></span>
                <input class="form-fields<%= locals.errors && errors.price ? '-invalid' : null %>" type="number"
                    id="price" name="price" step="any" min="1" placeholder="Price"
                    value="<%= locals.oldData ? oldData.price : null %>">
                <span></span>
                <button id="submitButton" class="send" type="submit">Submit</button>
            </form>

        </div>


    </main>
    <!-- footer -->
    <%- include('../partials/footer')%>
    <script src="/js/productsCreate.js"></script>
</body>

</html>